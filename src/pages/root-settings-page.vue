<!-- App.vue -->
<template>
  <div>
    <h2>üîÑ –†–µ—Ä–µ–Ω–¥–µ—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</h2>
    <button @click="increment">–£–≤–µ–ª–∏—á–∏—Ç—å —Å—á—ë—Ç—á–∏–∫</button>
    <p>–°—á—ë—Ç—á–∏–∫: {{ counter }}</p>
    <button @click="add">–î–æ–±–∞–≤–∏—Ç—å —Å—á—ë—Ç—á–∏–∫</button>
    <button @click="addAfterNextTick">nextTick</button>
    <ChildOne :counter="counter" />
    <ChildTwo />
    <ChildThree :counter="counters"/>
    {{ counters }}

    <div>
    <input v-model.lazy="msg" />
    <p>–°–æ–æ–±—â–µ–Ω–∏–µ: {{ msg }}</p>
  </div>
  </div>


  <div ref="myDiv">{{ message }}</div>
  <button @click="updateSomething">Update</button>
</template>

<script setup>
import ChildOne from './ChildOne.vue'
import ChildTwo from './ChildTwo.vue'
import ChildThree from './ChildThree.vue'
import { ref, shallowRef } from 'vue'
const counter = ref(0)
const counters = shallowRef([])
const msg = ref('')
import { nextTick } from 'vue'

const increment = async () => {
  counter.value++
  await nextTick()
}

const add = async () => {
  counters.value.push(counter.value)
 

}

const addAfterNextTick = async () => {
 
  console.log('üîÅ üî¥ChildOne –ø–µ—Ä–µ—Ä–µ–Ω–¥–µ—Ä–µ–Ω –ø–æ—Å–ª–µ nextTick')
}


const message = ref('Hello!')
const myDiv = ref(null)



  function updateSomething() {
    message.value = 'Updated!'
    console.log(myDiv.value.textContent) 

  setTimeout(() => {
    console.log('‚è≥ setTimeout —Å—Ä–∞–±–æ—Ç–∞–ª')
  

    nextTick(() => {
      console.log('‚úÖ nextTick –≤–Ω—É—Ç—Ä–∏ setTimeout')
      console.log(myDiv.value.textContent) 
    })

    console.log('üî∏ –ü–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ nextTick')
 
  }, 3000)


  console.log(myDiv.value.textContent) 
 

}

</script>
